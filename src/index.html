<!DOCTYPE html>

<html>
    <head>
        <meta charset="UTF-8">
        <style>
            svg {
                margin: auto;
                width: auto;
                height: auto;
            }
            circle.clock {
                stroke: black;
                stroke-width: 3px;
                fill: none;
            }
            line.hand-large {
                stroke: black;
                stroke-width: 8px;
            }
            line.mark-large {
                stroke: black;
                stroke-width: 5px;
            }
            line.mark-small {
                stroke: black;
                stroke-width: 2px;
            }
        </style>
    </head>
    <body>
        <script>
            // angle of large hand
            let curAngleLarge = 3 * Math.PI / 2;
            let curTick = 0;
            // radius of circle
            let radius = 250;
            function createMark(radius, angle, length, offset, className) {
                let mark = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                mark.setAttribute('class', className);
                let deltaX = Math.cos(angle) * length;
                let deltaY = Math.sin(angle) * length;
                let x1 = radius + Math.cos(angle) * (radius - length - offset);
                mark.setAttribute('x1', x1);
                let x2 = x1 + deltaX;
                mark.setAttribute('x2', x2);
                let y1 = radius + Math.sin(angle) * (radius - length - offset);
                mark.setAttribute('y1', y1)
                let y2 = y1 + deltaY;
                mark.setAttribute('y2', y2);
                return mark;
            }

            function generateClockMarkings() {
                // space between large marks
                let largeIncrement = 1/6 * Math.PI;
                // space between small marks
                let smallIncrement = largeIncrement / 5;
                // length of each large mark
                let largeLength = 30;
                // length of each small mark
                let smallLength = 20;
                // offset from clock circle for large marks
                let largeOffset = 0;
                // offset from clock circle for small marks
                let smallOffset = 10;
                let clock = document.getElementById('clock');

                // generate large markings
                for (let largeAngle=0; largeAngle<2 * Math.PI; largeAngle+=largeIncrement) {
                    clock.appendChild(createMark(radius, largeAngle, largeLength, largeOffset, 'mark-large'));
                    for (let smallAngle=largeAngle; smallAngle<largeAngle + largeIncrement; smallAngle+=smallIncrement) {
                        clock.appendChild(createMark(radius, smallAngle, smallLength, smallOffset, 'mark-small'))
                    }
                }
            }

            function tickTimer(angle) {
                curAngleLarge = (curAngleLarge + angle) % (2*Math.PI);
                let largeHand = document.getElementById('hand-large');
                largeHand.setAttribute('x2', radius + Math.cos(curAngleLarge) * radius);
                largeHand.setAttribute('y2', radius + Math.sin(curAngleLarge) * radius);
                // setup call for next tick
                if (curAngleLarge != 3 * Math.PI / 2) {
                    setTimeout(tickTimer, 1000, angle);
                } else {
                    return;
                }
            }

            function startTimer(angle) {
                curAngleLarge = 3 * Math.PI / 2;
                setTimeout(tickTimer, 1000, angle);
            }

        </script>
        <svg xmlns='http://www.w3.org/2000/svg' height=500 width=500 id='clock' onLoad="generateClockMarkings();startTimer(0.05*Math.PI)">
            <line x1='50%' y1='50%' x2='50%' y2='0%' class='hand-large' id='hand-large'/>
            <text x='50%' y='75%' fill='black' dominant-baseline="middle" text-anchor="middle">Timer</text>
        </svg>
    </body>
</html>